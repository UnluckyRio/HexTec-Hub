@import "../styles/style.scss";

.home-section {
  margin-right: 0;
  padding-block-start: calc(var(--header-height) + clamp(2rem, 4vw, 4rem));
  padding-block-end: 0;
  padding-inline: clamp(1rem, 4vw, 0rem);
  background-color: var(--bs-dark);
  min-block-size: 100vh;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;

  .home-title {
    font-family: "LeagueOfLegends";
    color: $warning;
    letter-spacing: 0.5px;
    margin-bottom: 1rem;
    margin-top: 2rem;
  }

  .home-intro {
    color: $light;
    max-width: 70ch;
    margin-bottom: 2rem;
  }
}

.loading-overlay {
  position: fixed;
  inset: 0;
  z-index: 999;
  display: grid;
  place-items: center;
  background-color: rgba(0, 0, 0, 0.35);
  backdrop-filter: blur(2px) saturate(120%);
  -webkit-backdrop-filter: blur(2px) saturate(120%);
}

.loading-surface {
  background-color: $secondary;
  color: $light;
  border: 1px solid rgba($primary, 0.3);
  border-radius: 12px;
  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.45);
  padding: 1rem 1.25rem;
  min-width: clamp(240px, 35vw, 420px);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.6rem;
}

.spinner-ring {
  width: 42px;
  height: 42px;
  border-radius: 50%;
  border: 3px solid rgba($primary, 0.25);
  border-top-color: $primary;
  animation: spin 960ms linear infinite;
}

@media (prefers-reduced-motion: reduce) {
  .spinner-ring {
    animation: none;
    border-top-color: rgba($primary, 0.8);
  }
}

.loading-label {
  font-size: 1rem;
  color: $light;
}

.loading-error {
  text-align: center;
  p {
    margin-bottom: 0.75rem;
  }
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.fade-in {
  opacity: 0;
  animation: fadeIn 240ms ease-out forwards;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.home-search {
  max-width: 480px;
  margin: 0 auto 16px;
}

.home-search .form-control {
  width: 100%;
  height: auto;
  background-color: rgba($secondary, 0.85);
  color: $light;
  border: 1px solid rgba($primary, 0.25);
  border-radius: 12px;
  padding: 0.6rem 0.9rem;
  font-size: 1rem;
  transition: border-color 160ms ease, box-shadow 160ms ease,
    background-color 160ms ease;

  &::placeholder {
    color: rgba($light, 0.6);
  }

  &:hover {
    border-color: rgba($primary, 0.35);
  }

  &:focus {
    outline: none;
    background-color: $secondary;
    border-color: rgba($primary, 0.55);
    box-shadow: 0 0 0 3px rgba($primary, 0.25);
  }
}

.home-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: clamp(0.4rem, 1.2vw, 0.6rem);
  overflow: visible;
}

.home-card {
  background-color: $secondary;
  color: $light;
  border: 1px solid rgba($primary, 0.2);
  border-radius: 12px;
  overflow: hidden;
  transition: transform 160ms ease, box-shadow 160ms ease,
    border-color 160ms ease;

  .card-body {
    padding: clamp(0.4rem, 1.6vw, 0.6rem);
  }

  &:hover {
    transform: translateY(-2px);
    border-color: rgba($primary, 0.35);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.35);
  }

  .card-title {
    color: $primary;
    font-size: clamp(0.95rem, 1.8vw, 1.05rem);
  }

  .card-text {
    color: $light;
    font-size: clamp(0.8rem, 1.8vw, 0.9rem);
  }
}

.home-card .card-img-wrapper {
  width: fit-content;
  max-width: 100%;
  margin: 0 auto;
  line-height: 0;
}

.home-card .card-img-top {
  display: block;
  margin: 0;
  background-color: transparent;
  border-bottom: 1px solid rgba($primary, 0.2);
}

.home-card .card-img-top.intrinsic {
  width: auto;
  height: auto;
  max-width: 100%;
  object-fit: contain;
}

.skeleton-card {
  position: relative;
  overflow: hidden;
}
.skeleton-img {
  width: 100%;
  height: 300px;
  background: linear-gradient(
    90deg,
    rgba($secondary, 0.7) 25%,
    rgba($secondary, 0.85) 37%,
    rgba($secondary, 0.7) 63%
  );
  background-size: 400% 100%;
  animation: shimmer 1200ms ease-in-out infinite;
  border-bottom: 1px solid rgba($primary, 0.2);
}
.skeleton-line {
  height: 14px;
  margin: 8px 0;
  border-radius: 8px;
  background: linear-gradient(
    90deg,
    rgba($secondary, 0.7) 25%,
    rgba($secondary, 0.85) 37%,
    rgba($secondary, 0.7) 63%
  );
  background-size: 400% 100%;
  animation: shimmer 1200ms ease-in-out infinite;
}

@keyframes shimmer {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

.home-link {
  display: inline-block;
  color: $primary;
  text-decoration: none;
  margin-top: 1rem;
  font-size: clamp(0.9rem, 1.8vw, 1.05rem);
  font-weight: 500;
  transition: color 160ms ease;

  &:hover {
    color: $warning;
  }
}

.item-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 0.8rem;
  align-items: stretch;
}

.item-cell {
  display: grid;
  grid-template-rows: auto auto;
  justify-items: center;
  gap: 0.3rem;
  padding: 0.6rem;
  border-radius: 12px;
  border: 1px solid rgba($primary, 0.2);
  background-color: rgba($secondary, 0.22);
  transition: transform 160ms ease, border-color 160ms ease;
}
.item-cell:hover {
  transform: translateY(-1px);
  border-color: rgba($primary, 0.35);
}
.item-icon {
  width: 48px;
  height: 48px;
  border-radius: 8px;
  border: 1px solid rgba($primary, 0.3);
  background-color: rgba($secondary, 0.65);
  display: block;
  margin-bottom: 0.1rem;
}
.item-texts {
  display: flex;
  flex-direction: column;

  align-items: flex-start;
  gap: 0.12rem;
  width: 100%;
}
.item-label {
  color: rgba($light, 0.92);
  font-weight: 500;

  text-align: left;
}
.item-plaintext {
  color: rgba($light, 0.72);

  text-align: left;
  font-size: 0.8rem;
  line-height: 1.2;

  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.item-section {
  display: grid;
  gap: 0.6rem;
  margin-top: 0.75rem;
}
.item-section-title {
  color: $primary;
  font-weight: 600;
  font-size: 0.95rem;
  letter-spacing: 0.02em;
  padding-bottom: 0.25rem;
  border-bottom: 1px solid rgba($primary, 0.18);
}

@media (max-width: 600px) {
  .item-grid {
    grid-template-columns: repeat(2, minmax(140px, 1fr));
    gap: 0.6rem;
  }
}

.runes-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 0.5rem;
}
.runes-path {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}
.runes-path-icon {
  width: 36px;
  height: 36px;
  border-radius: 10px;
}
.runes-path-label {
  color: $primary;
  font-weight: 600;
}
.runes-set {
  display: grid;
  grid-template-columns: repeat(4, minmax(160px, 1fr));
  gap: 0.6rem;
}
.rune-cell {
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  gap: 0.5rem;
}
.rune-icon {
  width: 36px;
  height: 36px;
  object-fit: contain;
  border-radius: 10px;
}
.rune-texts {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 0.15rem;
}
.rune-label {
  font-weight: 600;
  text-align: left;
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
}
.rune-badge {
  font-size: 11px;
  line-height: 1;
  background-color: rgba($primary, 0.12);
  color: $primary;
  border: 1px solid rgba($primary, 0.4);
  padding: 2px 6px;
  border-radius: 12px;
}
.rune-plaintext {
  color: #8a8a8a;
  text-align: left;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.rune-keystone {
  border: 2px solid $primary;
  border-radius: 10px;
  box-shadow: 0 0 0 2px rgba($primary, 0.2);
}

@media (max-width: 768px) {
  .runes-set {
    grid-template-columns: repeat(2, minmax(140px, 1fr));
    gap: 0.5rem;
  }
}
@media (max-width: 480px) {
  .runes-set {
    grid-template-columns: 1fr;
    gap: 0.45rem;
  }
}

.summoner-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(40px, 1fr));
  gap: 0.6rem;
}
.summoner-cell {
  display: grid;
  place-items: center;
  gap: 0.25rem;
}
.summoner-icon {
  width: 40px;
  height: 40px;
  border-radius: 8px;
  border: 1px solid rgba($primary, 0.3);
  background-color: rgba($secondary, 0.65);
}
.summoner-texts {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.1rem;
}
.summoner-label {
  color: rgba($light, 0.9);
}
.summoner-plaintext {
  color: rgba($light, 0.7);
  text-align: center;
  font-size: 0.8rem;
}

.champion-splash {
  width: fit-content;
  max-width: 100%;
  margin: 0 auto 1rem;
  border-radius: 12px;
  overflow: hidden;
  background-color: $secondary;
  border: 1px solid rgba($primary, 0.2);
  position: relative;
}

.champion-splash-img {
  width: auto;
  height: auto;
  max-width: 100%;
  max-height: clamp(260px, 55vh, 520px);
  display: block;
}

.skins-carousel {
  position: relative;
}

.carousel-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 2;
  width: 42px;
  height: 42px;
  border-radius: 50%;
  display: grid;
  place-items: center;
  border: 1px solid rgba($primary, 0.35);
  background-color: rgba(0, 0, 0, 0.35);
  color: $light;
  cursor: pointer;
  opacity: 0.75;
  backdrop-filter: saturate(120%) blur(2px);
  -webkit-backdrop-filter: saturate(120%) blur(2px);
  transition: background-color 160ms ease, transform 120ms ease,
    box-shadow 160ms ease, border-color 160ms ease;

  &:hover {
    background-color: rgba(0, 0, 0, 0.5);
    border-color: rgba($primary, 0.6);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.45);
    opacity: 1;
  }

  &:active {
    transform: translateY(-50%) scale(0.98);
  }

  &:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px rgba($primary, 0.4);
    border-color: rgba($primary, 0.8);
    opacity: 1;
  }

  i {
    font-size: 1.1rem;
  }

  &.left {
    left: 0.75rem;
  }

  &.right {
    right: 0.75rem;
  }
}

.skin-meta {
  margin-top: 0.4rem;
  font-size: 1rem;
  color: $light;
  opacity: 1;
  font-weight: 500;
  text-align: center;
}

.skin-badge {
  position: absolute;
  left: 0.75rem;
  bottom: 0.75rem;
  padding: 0.35rem 0.6rem;
  border-radius: 10px;
  background-color: rgba(0, 0, 0, 0.55);
  color: $light;
  border: 1px solid rgba($primary, 0.35);
  backdrop-filter: blur(2px);
  font-weight: 500;
  letter-spacing: 0.2px;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.35);
}

.footer-center-wrapper {
  display: grid;
  place-items: center;
}

.breadcrumb {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin: 0 0 1rem 0;
  padding: 0.25rem 0.5rem;
  color: $light;
}

.breadcrumb-link {
  color: $primary;
  text-decoration: none;
  &:hover {
    color: $warning;
  }
}

.breadcrumb-sep {
  color: rgba($light, 0.6);
}

.breadcrumb-current {
  color: $light;
}

.scroll-top-btn {
  position: fixed;
  right: clamp(10px, 2vw, 20px);
  bottom: clamp(10px, 2vw, 20px);
  width: 44px;
  height: 44px;
  border-radius: 50%;
  border: 1px solid rgba($primary, 0.35);
  background-color: $secondary;
  color: $light;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.35);
  cursor: pointer;
  transition: transform 120ms ease, box-shadow 160ms ease,
    border-color 160ms ease;

  &:hover {
    transform: translateY(-1px);
    border-color: rgba($primary, 0.6);
    box-shadow: 0 12px 28px rgba(0, 0, 0, 0.45);
  }

  &:active {
    transform: scale(0.98);
  }
}

.ability-section {
  padding-block: 0.5rem;
}
.ability-section + .ability-section {
  border-top: 1px solid rgba($primary, 0.25);
  margin-top: 0.5rem;
  padding-top: 1rem;
}

@media (min-width: 992px) {
  .home-section {
    margin-left: var(--sidebar-width);
  }
}

@media (max-width: 380px) {
}

.champion-detail {
  .home-cards {
    grid-template-columns: 1fr;
    gap: clamp(0.7rem, 1.4vw, 1rem);
  }

  .home-card .card-header {
    border-bottom: 1px solid rgba($primary, 0.18);
    font-weight: 600;
    color: $primary;
  }

  .home-card .card-body {
    padding: clamp(0.6rem, 2vw, 0.9rem);
  }

  .item-section,
  .runes-grid,
  .summoner-grid {
    margin-top: 0.25rem;
  }

  @media (min-width: 992px) {
    .home-cards {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 380px) {
    .home-cards {
      grid-template-columns: 1fr;
      gap: clamp(0.6rem, 2vw, 0.8rem);
    }
  }
}

.champions-list {
  .champion-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: clamp(0.5rem, 1.4vw, 0.8rem);
    align-items: stretch;
    transition: grid-template-columns 160ms ease;
  }

  .home-card-item {
    transition: opacity 180ms ease, transform 180ms ease;
    will-change: opacity, transform;
    animation: fadeScale 220ms ease both;
  }

  .champion-card {
    position: relative;
    display: block;
    width: 100%;
    height: auto;
    overflow: hidden;
  }
  .champion-card .card-img-wrapper {
    width: 100%;
    height: clamp(220px, 36vh, 300px);
    overflow: hidden;
  }
  .champion-card .card-img-top {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center top;
    background-color: rgba($secondary, 0.3);
    transition: transform 200ms ease;
  }

  .champion-card .card-img-top.intrinsic {
    object-fit: cover;
    object-position: center top;
  }

  .champion-card .card-img-top.img-error {
    object-fit: contain;
  }
  .champion-card .card-body {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    padding: clamp(0.4rem, 1.6vw, 0.6rem);

    background: linear-gradient(
      to top,
      rgba(0, 0, 0, 0.45) 40%,
      rgba(0, 0, 0, 0.2) 70%,
      rgba(0, 0, 0, 0) 100%
    );
    backdrop-filter: saturate(120%) blur(2px);
    -webkit-backdrop-filter: saturate(120%) blur(2px);
  }
  .champion-card .card-title {
    margin-bottom: 0.25rem;
  }
  .champion-card .card-text {
    color: rgba($light, 0.85);
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .home-card-item:hover .champion-card .card-img-top {
    transform: scale(1.02);
  }

  .skeleton-card .skeleton-img {
    height: clamp(220px, 36vh, 300px);
  }
  .skeleton-card .card-body {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    padding: clamp(0.4rem, 1.6vw, 0.6rem);
  }

  @media (max-width: 480px) {
    .champion-grid {
      grid-template-columns: repeat(2, minmax(140px, 1fr));
    }

    .champion-card .card-img-wrapper {
      height: clamp(200px, 40vh, 260px);
    }
  }
  @media (min-width: 1200px) {
    .champion-grid {
      grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
    }
    .champion-card .card-img-wrapper {
      height: clamp(240px, 30vh, 340px);
    }
  }
}

@keyframes fadeScale {
  from {
    opacity: 0;
    transform: scale(0.98);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
